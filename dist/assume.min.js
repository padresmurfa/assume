"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function i(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_moment=require("moment"),_moment2=_interopRequireDefault(_moment),_lodash=require("lodash"),_lodash2=_interopRequireDefault(_lodash),_normalizeClassNames=require("./normalizeClassNames"),_normalizeClassNames2=_interopRequireDefault(_normalizeClassNames),_assumptionFailed=require("./assumptionFailed"),_assumptionFailed2=_interopRequireDefault(_assumptionFailed);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var tString=_typeof(""),tUndefined="undefined";function isUndefinedOrString(e){var t=void 0===e?"undefined":_typeof(e);return t===tUndefined||t===tString}function clarify(e){return null===e?e="<null>":void 0===e?e="<undefined>":_lodash2.default.isArray(e)?e="<array>":_lodash2.default.isDate(e)?e="<date>":_lodash2.default.isObject(e)?e="<object>":_lodash2.default.isString(e)&&(e='"'+e+'"'),e}var Assume=function(){function t(e){_classCallCheck(this,t),void 0===e&&(e=function(e){return new _assumptionFailed2.default(e)}),this.factory=e}return _createClass(t,[{key:"fail",value:function(e){throw this.factory(e||"Assumption failed")}},{key:"areEqual",value:function(e,t,a){_lodash2.default.isEqual(e,t)||(e=clarify(e),t=clarify(t),this.fail(a||"Expected values to be equal ("+e+","+t+")"))}},{key:"isError",value:function(e,t){if(!(e instanceof Error)){var a=isUndefinedOrString(e.message),i=isUndefinedOrString(e.stack);if(!(a&&i)){var l=clarify(e);this.fail(t||"Expected values to be an Error ("+l+")")}}}},{key:"isInstanceOf",value:function(t,e,a){e=(0,_normalizeClassNames2.default)(e),_lodash2.default.some(e,function(e){return e===t.constructor.name})||(1===e.length?this.fail(a||"Expected value to be an instance of "+e[0]):this.fail(a||"Expected value to be an instance of one of the following: "+e))}},{key:"isNull",value:function(e,t){null!==e&&(e=clarify(e),this.fail(t||"Expected value ("+e+") to be null"))}},{key:"isNotNull",value:function(e,t){null===e&&this.fail(t||"Expected value to not be null")}},{key:"isDefined",value:function(e,t){_lodash2.default.isUndefined(e)&&this.fail(t||"Expected value to be defined")}},{key:"isUndefined",value:function(e,t){_lodash2.default.isUndefined(e)||(e=clarify(e),this.fail(t||"Expected value ("+e+") to be undefined"))}},{key:"isEmpty",value:function(e,t){_lodash2.default.isEmpty(e)||(e=clarify(e),this.fail(t||"Expected value ("+e+") to be empty"))}},{key:"isNotEmpty",value:function(e,t){_lodash2.default.isEmpty(e)&&(e=clarify(e),this.fail(t||"Expected value ("+e+") to not be empty"))}},{key:"isString",value:function(e,t){_lodash2.default.isString(e)||(e=clarify(e),this.fail(t||"Expected value ("+e+") to be a string"))}},{key:"isImmutable",value:function(e,t){_lodash2.default.isString(e)||_lodash2.default.isNumber(e)||_lodash2.default.isBoolean(e)||(e=clarify(e),this.fail(t||"Expected value ("+e+") to be immutable"))}},{key:"isInteger",value:function(e,t){if(!_lodash2.default.isInteger(e)){if(_lodash2.default.isString(e)){var a=parseInt(e);void 0!==a&&a.toString()===e&&(e='"'+e+'"')}else e=clarify(e);this.fail(t||"Expected value ("+e+") to be an integer")}}},{key:"isBoolean",value:function(e,t){_lodash2.default.isBoolean(e)||(e=!_lodash2.default.isString(e)||"true"!==e&&"false"!==e?clarify(e):'"'+e+'"',this.fail(t||"Expected value ("+e+") to be a boolean"))}},{key:"isArray",value:function(e,t){_lodash2.default.isArray(e)||(e=_lodash2.default.isString(e)&&e.startsWith("[")&&e.endsWith("]")?'"'+e+'"':clarify(e),this.fail(t||"Expected value ("+e+") to be an array"))}},{key:"isObject",value:function(e,t){_lodash2.default.isObject(e)||(e=_lodash2.default.isString(e)&&e.startsWith("{")&&e.endsWith("}")?'"'+e+'"':clarify(e),this.fail(t||"Expected value ("+e+") to be an object"))}},{key:"isDate",value:function(e,t){_lodash2.default.isDate(e)||(e=clarify(e),this.fail(t||"Expected value ("+e+") to be a date"))}},{key:"isIsoDate",value:function(e,t){_lodash2.default.isString(e)||(e=clarify(e),this.fail(t||"Expected value ("+e+") to be a string containing an ISO-8601 date")),(0,_moment2.default)(e,_moment2.default.ISO_8601).isValid()||this.fail(t||"Expected value ("+e+") to be a string containing a valid ISO-8601 date")}}]),t}();exports.default=Assume; "use strict";function _classCallCheck(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var AssumptionFailed=function s(t){_classCallCheck(this,s);try{throw new Error(t)}catch(s){this.message=t,this.stack=s.stack}};exports.default=AssumptionFailed; "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizeClassNames=exports.Assume=exports.AssumptionFailed=void 0;var _assume=require("./assume"),_assume2=_interopRequireDefault(_assume),_assumptionFailed=require("./assumptionFailed"),_assumptionFailed2=_interopRequireDefault(_assumptionFailed),_normalizeClassNames=require("./normalizeClassNames"),_normalizeClassNames2=_interopRequireDefault(_normalizeClassNames),_singleton=require("./singleton"),_singleton2=_interopRequireDefault(_singleton);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=_singleton2.default,exports.AssumptionFailed=_assumptionFailed2.default,exports.Assume=_assume2.default,exports.normalizeClassNames=_normalizeClassNames2.default; "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=normalizeClassNames;var _lodash=require("lodash"),_lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function normalizeClassNames(e){if(!_lodash2.default.isString(e))throw new Error("Class names should be specified as a delimited string");var s=e.split(/[;:,\.\s]/);return 1<s.length?s:[e]} "use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _assume=require("./assume"),_assume2=_interopRequireDefault(_assume);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var singleton=new _assume2.default;exports.default=singleton;
